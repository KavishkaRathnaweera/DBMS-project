<%- include('_header',{title:" Leave Report"}) %>


    <%- include('_sidebar') %>


        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <div class="container-fluid">
                    <div class="card">
                        <form id="search_employees" action="/HR/findLeave" method="POST">
                            <div class="card-body"
                                style="background:linear-gradient(to left,rgb(180, 180, 180),rgb(219, 203, 203),rgb(180, 180, 180))">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Start Date</label>
                                            <input class="form-control datetimepicker-input" type="date" name="startdate" value="<%=dates.startDate%>" required>
                                        </div>
                                    </div>
                                    <!-- select Deptment name -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>End Date</label>
                                            <input class="form-control datetimepicker-input" type="date" name="endDate" value="<%=dates.endDate%>" required>
                                        </div>
                                    </div>
                                    
                                <button type="submit" class="btn btn-primary" style="width: 100px;"
                                    id="searchEmployees">Search</button>
                                </div>
                            </div>
                            <!-- card body -->
                        </form>
                    </div>
                    <!-- /card -->
                </div><!-- /.container-fluid -->
            </section>

            <!-- Main content -->
            <section class="content">
                <div class="container-fluid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Employees</h3>
                            <a class="btn btn-primary float-right newSupply" href="HR/viewEmployee">View PIM Data</a>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <table id="example1" class="table table-bordered table-striped">
                                <thead>

                                    <tr>
                                        <th style="width: 40px">#</th>
                                        <th style="background-color: rgb(221, 240, 240);">Department Name </th>
                                        <th style="background-color: rgb(221, 240, 240);">Leaves from <%= dates.startDate %> to <%= dates.endDate %>  </th>
                                    </tr>

                                </thead>

                                <tbody>
                                    <% for (var i=0; i < departmentlist.length; i++) { %>

                                        <tr data-id="<%= departmentlist[i].dept_name %>">
                                            <td><%= i+1 %></td>
                                            <td><%= departmentlist[i].dept_name %></td>
                                            <td><%= departmentlist[i].count %></td>
                                        </tr>
                                        <% } %>
                                </tbody>
                            </table>
                        </div>
                        <!-- /.card-body -->

                    </div>
                    <!-- /.card -->
                </div><!-- /.container-fluid -->
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->

        <%- include('_footer') %>
            <!-- DataTables  & Plugins -->
    <script src="/assets/public/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/assets/public/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/assets/public/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/assets/public/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <script src="/assets/public/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/assets/public/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
    <script src="/assets/public/plugins/jszip/jszip.min.js"></script>
    <script src="/assets/public/plugins/pdfmake/pdfmake.min.js"></script>
    <script src="/assets/public/plugins/pdfmake/vfs_fonts.js"></script>
    <script src="/assets/public/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
    <script src="/assets/public/plugins/datatables-buttons/js/buttons.print.min.js"></script>
    <script src="/assets/public/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
    <script src="/assets/public/plugins/select2/js/select2.full.min.js"></script>



<script>
    $(function () {
        $("#example1").DataTable({
            "responsive": true, "lengthChange": false, "autoWidth": false,
            "buttons": ["copy", "csv", "excel", "pdf", "print"]
        }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');

        //Initialize Select2 Elements
        $('.select2').select2();

        //Initialize Select2 Elements
        // $('.select2bs4').select2({
        //   theme: 'bootstrap4'
        // })
    });

</script>

</html>